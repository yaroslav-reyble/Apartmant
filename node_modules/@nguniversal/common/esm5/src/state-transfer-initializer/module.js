/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { __decorate } from "tslib";
import { DOCUMENT } from '@angular/common';
import { APP_INITIALIZER, NgModule } from '@angular/core';
import * as ɵngcc0 from '@angular/core';
export function domContentLoadedFactory(doc) {
    return function () { return new Promise(function (resolve, _reject) {
        var contentLoaded = function () {
            doc.removeEventListener('DOMContentLoaded', contentLoaded);
            resolve();
        };
        if (doc.readyState === 'complete' || doc.readyState === 'interactive') {
            resolve();
        }
        else {
            doc.addEventListener('DOMContentLoaded', contentLoaded);
        }
    }); };
}
var StateTransferInitializerModule = /** @class */ (function () {
    function StateTransferInitializerModule() {
    }
StateTransferInitializerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: StateTransferInitializerModule });
StateTransferInitializerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function StateTransferInitializerModule_Factory(t) { return new (t || StateTransferInitializerModule)(); }, providers: [
        { provide: APP_INITIALIZER, multi: true, useFactory: domContentLoadedFactory, deps: [DOCUMENT] },
    ] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(StateTransferInitializerModule, [{
        type: NgModule,
        args: [{
                providers: [
                    { provide: APP_INITIALIZER, multi: true, useFactory: domContentLoadedFactory, deps: [DOCUMENT] },
                ]
            }]
    }], function () { return []; }, null); })();
    return StateTransferInitializerModule;
}());
export { StateTransferInitializerModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9tb2R1bGVzL2NvbW1vbi9zcmMvc3RhdGUtdHJhbnNmZXItaW5pdGlhbGl6ZXIvbW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRzs7QUFFSCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7O0FBRTFELE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxHQUFhO0lBQ25ELE9BQU8sY0FBTSxPQUFBLElBQUksT0FBTyxDQUFFLFVBQUMsT0FBTyxFQUFFLE9BQU87UUFDekMsSUFBTSxhQUFhLEdBQUc7WUFDcEIsR0FBRyxDQUFDLG1CQUFtQixDQUFDLGtCQUFrQixFQUFFLGFBQWEsQ0FBQyxDQUFDO1lBQzNELE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQyxDQUFDO1FBQ0YsSUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLFVBQVUsSUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLGFBQWEsRUFBRTtZQUNyRSxPQUFPLEVBQUUsQ0FBQztTQUNYO2FBQU07WUFDTCxHQUFHLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsYUFBYSxDQUFDLENBQUM7U0FDekQ7SUFDSCxDQUFDLENBQUMsRUFWVyxDQVVYLENBQUM7QUFDTCxDQUFDO0FBUUQ7SUFBQTtJQUE2QyxDQUFDO0lBQWpDLDhCQUE4Qix3QkFMMUMsUUFBUSxDQUFDLGNBQ1IsU0FBUyxFQUFFO0tBQ1QsRUFBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLHVCQUF1QixFQUFFLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFDLGVBQy9GLFVBQ0YsQ0FBQyxRQUNXLDhCQUE4QixDQUFHOzs7Ozs7Ozs7O2dEQUM5QztJQUQ2QyxxQ0FBQztDQUFBLEFBQTlDLElBQThDO1NBQWpDLDhCQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21Db250ZW50TG9hZGVkRmFjdG9yeShkb2M6IERvY3VtZW50KSB7XG4gIHJldHVybiAoKSA9PiBuZXcgUHJvbWlzZSAoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcbiAgICBjb25zdCBjb250ZW50TG9hZGVkID0gKCkgPT4ge1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjb250ZW50TG9hZGVkKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGlmIChkb2MucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2MucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNvbnRlbnRMb2FkZWQpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuQE5nTW9kdWxlKHtcbiAgcHJvdmlkZXJzOiBbXG4gICAge3Byb3ZpZGU6IEFQUF9JTklUSUFMSVpFUiwgbXVsdGk6IHRydWUsIHVzZUZhY3Rvcnk6IGRvbUNvbnRlbnRMb2FkZWRGYWN0b3J5LCBkZXBzOiBbRE9DVU1FTlRdfSxcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBTdGF0ZVRyYW5zZmVySW5pdGlhbGl6ZXJNb2R1bGUge31cbiJdfQ==